
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Submission System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            min-height: 100vh;
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            justify-content: center;
        }

        .nav-tab {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-tab.active {
            background: #ff6b6b;
        }

        .nav-tab:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .form-container {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            font-size: 14px;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .submit-btn {
            background: #ff6b6b;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .submit-btn:hover {
            background: #ff5252;
            transform: translateY(-2px);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .dashboard-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .dashboard-card h3 {
            font-size: 2.5rem;
            color: #ff6b6b;
            margin-bottom: 10px;
        }

        .dashboard-card p {
            font-size: 14px;
            opacity: 0.9;
        }

        .submissions-list {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }

        .submission-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 10px;
            border-left: 4px solid #ff6b6b;
            transition: all 0.3s ease;
        }

        .submission-item:hover {
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 0.15);
        }

        .submission-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 10px;
        }

        .submission-id {
            font-weight: bold;
            color: #ff6b6b;
        }

        .submission-status {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }

        .status-pending {
            background: #ffd93d;
            color: #333;
        }

        .status-reviewed {
            background: #6bcf7f;
            color: white;
        }

        .status-submitted {
            background: #4ecdc4;
            color: white;
        }

        .review-actions {
            margin-top: 15px;
        }

        .review-btn {
            background: #4ecdc4;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
            transition: all 0.3s ease;
        }

        .review-btn:hover {
            background: #45b7b8;
        }

        .review-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e3c72;
            padding: 30px;
            border-radius: 15px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close-modal {
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: #ff6b6b;
        }

        .success-message {
            background: #6bcf7f;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }

        .file-upload {
            border: 2px dashed rgba(255, 255, 255, 0.3);
            padding: 20px;
            text-align: center;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .file-upload:hover {
            border-color: #ff6b6b;
            background: rgba(255, 107, 107, 0.1);
        }

        .review-tabs {
            display: flex;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 5px;
        }

        .review-tab {
            flex: 1;
            padding: 10px;
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .review-tab.active {
            background: #ff6b6b;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Project Submission & Evaluation System</h1>
            <p>Streamlined workflow for project submissions and faculty review</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('student')">Student Submission</button>
            <button class="nav-tab" onclick="switchTab('faculty')">Faculty Dashboard</button>
        </div>

        <!-- Student Submission Tab -->
        <div id="student" class="tab-content active">
            <div class="form-container">
                <h2 style="margin-bottom: 20px;">Project Submission - Review 0</h2>
                
                <div class="success-message" id="successMessage">
                    Project submitted successfully! It will appear in the faculty dashboard for review.
                </div>

                <form id="submissionForm">
                    <div class="form-group">
                        <label for="studentId">Student ID:</label>
                        <input type="text" id="studentId" name="studentId" required>
                    </div>

                    <div class="form-group">
                        <label for="studentName">Student Name:</label>
                        <input type="text" id="studentName" name="studentName" required>
                    </div>

                    <div class="form-group">
                        <label for="projectTitle">Project Title:</label>
                        <input type="text" id="projectTitle" name="projectTitle" required>
                    </div>

                    <div class="form-group">
                        <label for="projectDescription">Project Description:</label>
                        <textarea id="projectDescription" name="projectDescription" required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="implementationDetails">Implementation Details:</label>
                        <textarea id="implementationDetails" name="implementationDetails" required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="toolsTech">Tools & Technologies:</label>
                        <input type="text" id="toolsTech" name="toolsTech" required>
                    </div>

                    <div class="form-group">
                        <label for="evaluationGoals">Evaluation Goals:</label>
                        <textarea id="evaluationGoals" name="evaluationGoals" required></textarea>
                    </div>

                    <div class="form-group">
                        <label>Upload Project Document:</label>
                        <div class="file-upload" onclick="document.getElementById('fileInput').click()">
                            <p>Click to upload project files (PDF, DOC, ZIP)</p>
                            <input type="file" id="fileInput" style="display: none;" accept=".pdf,.doc,.docx,.zip">
                            <div id="fileName"></div>
                        </div>
                    </div>

                    <button type="submit" class="submit-btn">SUBMIT FOR REVIEW 0</button>
                </form>
            </div>
        </div>

        <!-- Faculty Dashboard Tab -->
        <div id="faculty" class="tab-content">
            <div class="header">
                <h2>Faculty Dashboard</h2>
                <p>Prof. Faculty Name - Computer Science Department</p>
            </div>

            <div class="review-tabs">
                <button class="review-tab active" onclick="switchReviewTab(0)">Review 0</button>
                <button class="review-tab" onclick="switchReviewTab(1)">Review 1</button>
                <button class="review-tab" onclick="switchReviewTab(2)">Review 2</button>
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3 id="totalSubmissions">0</h3>
                    <p>Total Submissions</p>
                </div>
                <div class="dashboard-card">
                    <h3 id="pendingReviews">0</h3>
                    <p>Pending Reviews</p>
                </div>
                <div class="dashboard-card">
                    <h3 id="completedReviews">0</h3>
                    <p>Completed Reviews</p>
                </div>
                <div class="dashboard-card">
                    <h3 id="submittedTasks">0</h3>
                    <p>Submitted Tasks</p>
                </div>
            </div>

            <div class="submissions-list">
                <h3 style="margin-bottom: 20px;">Submissions for Review</h3>
                <div id="submissionsList">
                    <p style="text-align: center; opacity: 0.7;">No submissions yet. Submissions will appear here after students submit their projects.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Review Modal -->
    <div id="reviewModal" class="review-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeReviewModal()">&times;</span>
            <h2 id="modalTitle">Review Submission</h2>
            <div id="modalContent"></div>
            
            <div style="margin-top: 20px;">
                <h3>Evaluation</h3>
                <div class="form-group">
                    <label for="reviewScore">Score (0-100):</label>
                    <input type="number" id="reviewScore" min="0" max="100">
                </div>
                <div class="form-group">
                    <label for="reviewComments">Comments:</label>
                    <textarea id="reviewComments"></textarea>
                </div>
                <button class="submit-btn" onclick="submitReview()">Submit Review</button>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let submissions = [];
        let currentReviewPhase = 0;
        let currentReviewSubmission = null;

        // Initialize the system
        document.addEventListener('DOMContentLoaded', function() {
            loadSubmissions();
            updateDashboard();
            
            // File upload handler
            document.getElementById('fileInput').addEventListener('change', function(e) {
                const fileName = e.target.files[0] ? e.target.files[0].name : '';
                document.getElementById('fileName').textContent = fileName ? `Selected: ${fileName}` : '';
            });

            // Form submission handler
            document.getElementById('submissionForm').addEventListener('submit', handleSubmission);
        });

        // Tab switching functions
        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active from all nav tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            // Update dashboard when switching to faculty tab
            if (tabName === 'faculty') {
                updateDashboard();
                displaySubmissions();
            }
        }

        function switchReviewTab(phase) {
            currentReviewPhase = phase;
            
            // Update active review tab
            document.querySelectorAll('.review-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update dashboard and submissions display
            updateDashboard();
            displaySubmissions();
        }

        // Handle form submission
        function handleSubmission(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const fileInput = document.getElementById('fileInput');
            
            const submission = {
                id: generateId(),
                studentId: formData.get('studentId'),
                studentName: formData.get('studentName'),
                projectTitle: formData.get('projectTitle'),
                projectDescription: formData.get('projectDescription'),
                implementationDetails: formData.get('implementationDetails'),
                toolsTech: formData.get('toolsTech'),
                evaluationGoals: formData.get('evaluationGoals'),
                fileName: fileInput.files[0] ? fileInput.files[0].name : null,
                submittedDate: new Date().toLocaleDateString(),
                submittedTime: new Date().toLocaleTimeString(),
                reviewPhase: 0, // Always submit to Review 0 initially
                status: 'submitted',
                score: null,
                comments: null
            };

            // Add to submissions array
            submissions.push(submission);
            saveSubmissions();

            // Show success message
            const successMsg = document.getElementById('successMessage');
            successMsg.style.display = 'block';
            setTimeout(() => {
                successMsg.style.display = 'none';
            }, 5000);

            // Reset form
            e.target.reset();
            document.getElementById('fileName').textContent = '';

            // Update dashboard
            updateDashboard();
        }

        // Update dashboard counts
        function updateDashboard() {
            const currentPhaseSubmissions = submissions.filter(s => s.reviewPhase === currentReviewPhase);
            
            document.getElementById('totalSubmissions').textContent = currentPhaseSubmissions.length;
            document.getElementById('pendingReviews').textContent = currentPhaseSubmissions.filter(s => s.status === 'submitted').length;
            document.getElementById('completedReviews').textContent = currentPhaseSubmissions.filter(s => s.status === 'reviewed').length;
            document.getElementById('submittedTasks').textContent = currentPhaseSubmissions.length;
        }

        // Display submissions in faculty dashboard
        function displaySubmissions() {
            const submissionsList = document.getElementById('submissionsList');
            const currentPhaseSubmissions = submissions.filter(s => s.reviewPhase === currentReviewPhase);
            
            if (currentPhaseSubmissions.length === 0) {
                submissionsList.innerHTML = `
                    <p style="text-align: center; opacity: 0.7;">
                        No submissions for Review ${currentReviewPhase} yet. 
                        Submissions will appear here after students submit their projects.
                    </p>
                `;
                return;
            }

            submissionsList.innerHTML = currentPhaseSubmissions.map(submission => `
                <div class="submission-item">
                    <div class="submission-header">
                        <div>
                            <span class="submission-id">ID: ${submission.studentId}</span>
                            <strong style="margin-left: 15px;">${submission.studentName}</strong>
                        </div>
                        <span class="submission-status status-${submission.status}">
                            ${submission.status.toUpperCase()}
                        </span>
                    </div>
                    
                    <h4 style="color: #ff6b6b; margin-bottom: 8px;">${submission.projectTitle}</h4>
                    <p style="opacity: 0.9; margin-bottom: 8px;">${submission.projectDescription.substring(0, 150)}...</p>
                    <p style="font-size: 12px; opacity: 0.7;">
                        Submitted: ${submission.submittedDate} at ${submission.submittedTime}
                        ${submission.fileName ? ` | File: ${submission.fileName}` : ''}
                    </p>
                    
                    <div class="review-actions">
                        <button class="review-btn" onclick="openReviewModal('${submission.id}')">
                            ${submission.status === 'reviewed' ? 'View Review' : 'Start Review'}
                        </button>
                        ${submission.status === 'reviewed' ? `
                            <span style="margin-left: 15px; color: #6bcf7f;">
                                Score: ${submission.score}/100
                            </span>
                        ` : ''}
                    </div>
                </div>
            `).join('');
        }

        // Open review modal
        function openReviewModal(submissionId) {
            const submission = submissions.find(s => s.id === submissionId);
            if (!submission) return;

            currentReviewSubmission = submission;
            
            document.getElementById('modalTitle').textContent = `Review: ${submission.projectTitle}`;
            document.getElementById('modalContent').innerHTML = `
                <div style="margin-bottom: 20px;">
                    <p><strong>Student:</strong> ${submission.studentName} (${submission.studentId})</p>
                    <p><strong>Submitted:</strong> ${submission.submittedDate} at ${submission.submittedTime}</p>
                    ${submission.fileName ? `<p><strong>File:</strong> ${submission.fileName}</p>` : ''}
                </div>
                
                <div style="margin-bottom: 15px;">
                    <h4>Project Description:</h4>
                    <p style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                        ${submission.projectDescription}
                    </p>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <h4>Implementation Details:</h4>
                    <p style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                        ${submission.implementationDetails}
                    </p>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <h4>Tools & Technologies:</h4>
                    <p style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                        ${submission.toolsTech}
                    </p>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <h4>Evaluation Goals:</h4>
                    <p style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px;">
                        ${submission.evaluationGoals}
                    </p>
                </div>
            `;

            // Pre-fill review fields if already reviewed
            if (submission.status === 'reviewed') {
                document.getElementById('reviewScore').value = submission.score || '';
                document.getElementById('reviewComments').value = submission.comments || '';
            } else {
                document.getElementById('reviewScore').value = '';
                document.getElementById('reviewComments').value = '';
            }

            document.getElementById('reviewModal').style.display = 'block';
        }

        // Close review modal
        function closeReviewModal() {
            document.getElementById('reviewModal').style.display = 'none';
            currentReviewSubmission = null;
        }

        // Submit review
        function submitReview() {
            if (!currentReviewSubmission) return;

            const score = document.getElementById('reviewScore').value;
            const comments = document.getElementById('reviewComments').value;

            if (!score || !comments) {
                alert('Please provide both score and comments.');
                return;
            }

            // Update submission
            const submissionIndex = submissions.findIndex(s => s.id === currentReviewSubmission.id);
            if (submissionIndex !== -1) {
                submissions[submissionIndex].status = 'reviewed';
                submissions[submissionIndex].score = parseInt(score);
                submissions[submissionIndex].comments = comments;
                submissions[submissionIndex].reviewedDate = new Date().toLocaleDateString();
            }

            saveSubmissions();
            closeReviewModal();
            updateDashboard();
            displaySubmissions();

            alert('Review submitted successfully!');
        }

        // Utility functions
        function generateId() {
            return 'SUB_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        function saveSubmissions() {
            // In a real application, this would save to a database
            // For demo purposes, we're using memory storage
            console.log('Submissions saved:', submissions);
        }

        function loadSubmissions() {
            // In a real application, this would load from a database
            // For demo purposes, submissions start empty
            console.log('Submissions loaded:', submissions);
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('reviewModal');
            if (event.target === modal) {
                closeReviewModal();
            }
        }
    </script>
</body>
</html>